---
import Card from "@/components/ui/Card.astro";
import Badge from "@/components/ui/Badge.astro";
import Button from "@/components/ui/Button.astro";
import { Github, ExternalLink } from "@lucide/astro";
import CloudMoniDashboard from "@/assets/Cloud-Monitor-Dashboard.webp";
import argocdDashboard from "@/assets/argocd-prod-app-dashboard.webp";

interface Project {
    imgUrl?: string;
    title: string;
    description: string;
    tags: string[];
    links: {
        demo?: string;
        github: string;
    };
}

const projectsplaceholders: Project[] = [
    {
        imgUrl: CloudMoniDashboard.src,
        title: "Monitoring, Logging, and Alerting Stack with Prometheus and Grafana",
        description:
            "A monitoring and logging stack using Prometheus and Grafana to visualize application metrics and logs in an AWS account.",
        tags: ["AWS", "Prometheus", "Grafana", "Terraform", "Ansible"],
        links: {
            github: "https://github.com/jesuslabtech/aws-observability-lab",
        },
    },
/*     {
        title: "Automated Infrastructure on AWS",
        description:
            "I designed and implemented a fully automated infrastructure on AWS using Terraform for a microservices-based application.",
        tags: ["Terraform", "AWS", "CodePipeline", "ECS"],
        links: {
            github: "#",
        },
    }, */

    {
        imgUrl: argocdDashboard.src,
        title: "CI/CD Pipeline with Github Actions, ArgoCD, and Kubernetes",
        description:
            "An example of a DevSecOps CI/CD pipeline using Github Actions, ArgoCD, and Kubernetes to automate the deployment of my task manager application.",
        tags: ["Github Actions", "ArgoCD", "Kubernetes", "CI/CD"],
        links: {
            github: "https://github.com/jesuslabtech/task-manager-gitops",
        },
    }
];
---

<div class="container mx-auto px-4 py-24">
    <div class="text-center mb-16">
        <h2 class="text-4xl md:text-5xl font-bold mb-4">Projects</h2>
        <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
            Real-world DevOps implementation and cloud infrastructure projects
        </p>
    </div>

    <div class="grid md:grid-cols-2 gap-6">
        {
            projectsplaceholders.map((project, index) => (
                <Card
                    key={project.title}
                    class="p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-border/50 min-h-[550px]"
                    style={`animation-delay: ${index * 100}ms;`}
                >
                    <img
                        src={project.imgUrl}
                        alt={project.title}
                        class="w-full h-56 object-cover mb-4 rounded-lg"
                    />
                    <h3 class="text-2xl font-bold mb-3">{project.title}</h3>
                    <p class="text-muted-foreground mb-4 leading-relaxed">
                        {project.description}
                    </p>

                    <div class="flex flex-wrap gap-2 mb-6">
                        {project.tags.map((tag, idx) => (
                            <Badge
                                key={tag}
                                variant={idx === 0 ? "default" : "secondary"}
                                class={
                                    idx === 0
                                        ? "bg-[hsl(var(--accent))] hover:bg-[hsl(var(--accent))]/90"
                                        : ""
                                }
                            >
                                {tag}
                            </Badge>
                        ))}
                    </div>

                    <div class="flex gap-3">
                        <Button
                            variant="outline"
                            size="sm"
                            class="gap-2"
                            href={project.links.github}
                            target="_blank"
                            rel="noopener noreferrer"
                            
                        >
                            <Github class="h-4 w-4" />
                            Code
                        </Button>
                        {project.links.demo && (
                            <Button
                                variant="outline"
                                size="sm"
                                className="gap-2"
                                href={project.links.demo}
                                target="_blank"
                                rel="noopener noreferrer"
                            >
                                <ExternalLink class="h-4 w-4" />
                                Demo
                            </Button>
                        )}
                    </div>
                </Card>
            ))
        }
    </div>
</div>
